--- os/linux/hif/pcie/include/hif.h
+++ os/linux/hif/pcie/include/hif.h
@@ -15,6 +18,13 @@ struct GL_HIF_INFO {
 	uint8_t u8RecoveryFailReason;
 	unsigned long u_recovery_fail_time;
 	
+	/* NEW: Recovery infrastructure for atomic context safety */
+	unsigned long state_flags;          /* Atomic state flags (MTK_FLAG_*) */
+	struct work_struct recovery_work;   /* Workqueue for deferred recovery */
+	struct mutex recovery_lock;         /* Protects recovery sequence */
+	int saved_irq;                      /* Saved IRQ number for disable/enable */
+	struct pci_dev *pdev;               /* PCI device pointer */
+	
 	/* ... rest of existing fields ... */
 };
 
