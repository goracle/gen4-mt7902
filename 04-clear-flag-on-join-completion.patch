--- a/mgmt/ais_fsm.c
+++ b/mgmt/ais_fsm.c
@@ -3428,6 +3428,10 @@ enum ENUM_AIS_STATE aisFsmJoinCompleteAction(IN struct ADAPTER *prAdapter,
 			prAisFsmInfo->rJoinReqTime = 0;
 
 		/* Support AP Selection */
+		
+		/* Clear cfg80211 connecting flag on successful join */
+		prAisFsmInfo->fgIsCfg80211Connecting = FALSE;
+		
 		prAisFsmInfo->prTargetBssDesc->fgDeauthLastTime = FALSE;
 		prAisFsmInfo->ucJoinFailCntAfterScan = 0;
 		/* end Support AP Selection */
@@ -3479,6 +3483,10 @@ enum ENUM_AIS_STATE aisFsmJoinCompleteAction(IN struct ADAPTER *prAdapter,
 #if (CFG_SUPPORT_SUPPLICANT_SME == 1)
 				if (prBssDesc == NULL) {
 					DBGLOG(AIS, WARN,
+					
+					/* Clear cfg80211 connecting flag on unrecoverable failure */
+					prAisFsmInfo->fgIsCfg80211Connecting = FALSE;
+					
 					"prBssDesc == NULL ->JOIN FAIL");
 					/* Free STA-REC */
 					if (prStaRec !=
@@ -3611,6 +3619,9 @@ enum ENUM_AIS_STATE aisFsmJoinCompleteAction(IN struct ADAPTER *prAdapter,
 					   && prBssDesc->ucJoinFailureCount >=
 					   SCN_BSS_JOIN_FAIL_THRESOLD
 					   && prBssDesc->u2JoinStatus) {
+					/* Clear cfg80211 connecting flag before giving up */
+					prAisFsmInfo->fgIsCfg80211Connecting = FALSE;
+					
 					/* AP reject STA for
 					 * STATUS_CODE_ASSOC_DENIED_AP_OVERLOAD
 					 * , or AP block STA
@@ -3622,6 +3633,9 @@ enum ENUM_AIS_STATE aisFsmJoinCompleteAction(IN struct ADAPTER *prAdapter,
 					 * not to try driver reconnect
 					 */
 					prAdapter->rWifiVar.
+					
+					prAisFsmInfo->fgIsCfg80211Connecting = FALSE;
+					
 						rConnSettings[ucBssIndex].
 						bss = NULL;
 					eNextState = AIS_STATE_JOIN_FAILURE;
